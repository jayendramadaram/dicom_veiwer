{"version":3,"sources":["Component/Viewer.js","App.js","cornerstone/initCornerstone.js","index.js"],"names":["Viewer","stack1","state","activeViewportIndex","viewports","tools","name","mode","modeOptions","mouseButtonMask","imageIds","activeTool","imageIdIndex","isPlaying","frameRate","fetchData","id","console","log","this","props","match","params","style","display","flexWrap","map","vp","minWidth","height","flex","className","setViewportActive","setState","marginTop","htmlFor","value","onChange","evt","target","type","min","max","length","parseInt","readOnly","onClick","frameRateInput","Math","Component","withRouter","App","exact","path","to","cornerstoneTools","external","cornerstone","Hammer","cornerstoneMath","init","textStyle","setFont","toolStyle","setToolWidth","toolColors","setToolColor","setActiveColor","store","touchProximity","cornerstoneWADOImageLoader","dicomParser","webWorkerManager","initialize","maxWebWorkers","navigator","hardwareConcurrency","startWebWorkersOnDemand","taskConfiguration","decodeTask","initializeCodecsOnStartup","sleepTask","sleepTime","window","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d8653665.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport CornerstoneViewport from \"react-cornerstone-viewport\";\nimport { useParams } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\n// let { loc } = useParams();\n\nclass Viewer extends Component {\n  stack1 = [\"jay\"];\n  state = {\n    activeViewportIndex: 0,\n    viewports: [0],\n    tools: [\n      // Mouse\n      {\n        name: \"Wwwc\",\n        mode: \"active\",\n        modeOptions: { mouseButtonMask: 1 },\n      },\n      {\n        name: \"Zoom\",\n        mode: \"active\",\n        modeOptions: { mouseButtonMask: 2 },\n      },\n      {\n        name: \"Pan\",\n        mode: \"active\",\n        modeOptions: { mouseButtonMask: 4 },\n      },\n      \"Length\",\n      \"Angle\",\n      \"Bidirectional\",\n      \"FreehandRoi\",\n      \"Eraser\",\n      // Scroll\n      { name: \"StackScrollMouseWheel\", mode: \"active\" },\n      // Touch\n      { name: \"PanMultiTouch\", mode: \"active\" },\n      { name: \"ZoomTouchPinch\", mode: \"active\" },\n      { name: \"StackScrollMultiTouch\", mode: \"active\" },\n    ],\n    imageIds: this.stack1,\n    // FORM\n    activeTool: \"Wwwc\",\n    imageIdIndex: 0,\n    isPlaying: false,\n    frameRate: 22,\n  };\n\n  componentWillMount() {\n    const id = this.props.match.params.id;\n    this.fetchData(id);\n  }\n\n  fetchData = (id) => {\n    this.stack1[0] = `wadouri:https://storage.jayendramadara.repl.co/download?id=${id}`;\n    console.log(this.stack1);\n    console.log(this.state.imageIds, \"hmm\");\n  };\n\n  render() {\n    return (\n      <div>\n        <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n          {this.state.viewports.map((vp) => (\n            <CornerstoneViewport\n              key={vp}\n              style={{ minWidth: \"50%\", height: \"256px\", flex: \"1\" }}\n              tools={this.state.tools}\n              imageIds={this.state.imageIds}\n              imageIdIndex={this.state.imageIdIndex}\n              isPlaying={this.state.isPlaying}\n              frameRate={this.state.frameRate}\n              className={this.state.activeViewportIndex === vp ? \"active\" : \"\"}\n              activeTool={this.state.activeTool}\n              setViewportActive={() => {\n                this.setState({\n                  activeViewportIndex: vp,\n                });\n              }}\n            />\n          ))}\n        </div>\n\n        {/* FORM */}\n        <div style={{ marginTop: \"35px\" }}>\n          <form className='row'>\n            {/* FIRST COLUMN */}\n            <div className='col-md-6'>\n              <div className='form-group'>\n                <label htmlFor='active-tool'>Active Tool:</label>\n                <select\n                  value={this.state.activeTool}\n                  onChange={(evt) =>\n                    this.setState({ activeTool: evt.target.value })\n                  }\n                  className='form-control'\n                  id='active-tool'\n                >\n                  <option value='Wwwc'>Wwwc</option>\n                  <option value='Zoom'>Zoom</option>\n                  <option value='Pan'>Pan</option>\n                  <option value='Length'>Length</option>\n                  <option value='Angle'>Angle</option>\n                  <option value='Bidirectional'>Bidirectional</option>\n                  <option value='FreehandRoi'>Freehand</option>\n                  <option value='Eraser'>Eraser</option>\n                </select>\n              </div>\n              <div className='form-group'>\n                <label htmlFor='image-id-index'>Image ID Index:</label>\n                <input\n                  type='range'\n                  min='0'\n                  max={this.state.imageIds.length - 1}\n                  value={this.state.imageIdIndex}\n                  onChange={(evt) =>\n                    this.setState({ imageIdIndex: parseInt(evt.target.value) })\n                  }\n                  className='form-control'\n                  id='image-id-index'\n                ></input>\n              </div>\n            </div>\n            {/* SECOND COLUMN */}\n            <div className='col-md-6'>\n              <div className='form-group'>\n                <label htmlFor='active-viewport-index'>\n                  Active Viewport Index:\n                </label>\n                <input\n                  type='text'\n                  readOnly={true}\n                  value={this.state.activeViewportIndex}\n                  className='form-control'\n                  id='active-viewport-index'\n                ></input>\n              </div>\n              <div className='input-group'>\n                <span className='input-group-btn'>\n                  <button\n                    className='btn btn-default'\n                    type='button'\n                    onClick={() => {\n                      this.setState({\n                        isPlaying: !this.state.isPlaying,\n                      });\n                    }}\n                  >\n                    {this.state.isPlaying ? \"Stop\" : \"Start\"}\n                  </button>\n                </span>\n                <input\n                  type='number'\n                  className='form-control'\n                  value={this.state.frameRate}\n                  onChange={(evt) => {\n                    const frameRateInput = parseInt(evt.target.value);\n                    const frameRate = Math.max(Math.min(frameRateInput, 90), 1);\n\n                    this.setState({ frameRate });\n                  }}\n                />\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Viewer);\n","import React, { Component } from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  Link,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\n// Routes\nimport Viewer from \"./Component/Viewer.js\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route exact path='/grid/:id'>\n            <Viewer />\n          </Route>\n          <Route>\n            <Redirect to='/grid/d15c251e-cbca-442f-8de2-8dd12a45f2cf' />\n          </Route>\n        </Switch>\n      </Router>\n    );\n  }\n}\n","import dicomParser from \"dicom-parser\";\nimport cornerstone from \"cornerstone-core\";\nimport cornerstoneWADOImageLoader from \"cornerstone-wado-image-loader\";\nimport cornerstoneMath from \"cornerstone-math\";\nimport cornerstoneTools from \"cornerstone-tools\";\n\nimport Hammer from \"hammerjs\";\n\nexport default function initCornerstone() {\n  // Cornertone Tools\n  cornerstoneTools.external.cornerstone = cornerstone;\n  cornerstoneTools.external.Hammer = Hammer;\n  cornerstoneTools.external.cornerstoneMath = cornerstoneMath;\n\n  //\n  cornerstoneTools.init();\n\n  // Preferences\n  const fontFamily =\n    \"Work Sans, Roboto, OpenSans, HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif\";\n  cornerstoneTools.textStyle.setFont(`16px ${fontFamily}`);\n  cornerstoneTools.toolStyle.setToolWidth(2);\n  cornerstoneTools.toolColors.setToolColor(\"rgb(255, 255, 0)\");\n  cornerstoneTools.toolColors.setActiveColor(\"rgb(0, 255, 0)\");\n\n  cornerstoneTools.store.state.touchProximity = 40;\n\n  // IMAGE LOADER\n  cornerstoneWADOImageLoader.external.cornerstone = cornerstone;\n  cornerstoneWADOImageLoader.external.dicomParser = dicomParser;\n  cornerstoneWADOImageLoader.webWorkerManager.initialize({\n    maxWebWorkers: navigator.hardwareConcurrency || 1,\n    startWebWorkersOnDemand: true,\n    taskConfiguration: {\n      decodeTask: {\n        initializeCodecsOnStartup: false,\n      },\n      sleepTask: {\n        sleepTime: 3000,\n      },\n    },\n  });\n\n  // Debug\n  window.cornerstone = cornerstone;\n  window.cornerstoneTools = cornerstoneTools;\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport initCornerstone from \"./cornerstone/initCornerstone.js\";\n\n//\ninitCornerstone();\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}